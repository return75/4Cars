<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>4 cars</title>
        <link rel="stylesheet" href="css/style.css">
    </head>
    <body>
        <audio src="sounds/backround.mp3" id="backgroundSound"></audio>
        <audio src="sounds/score.mp3" id="scoreSound"></audio>
        <audio src="sounds/collision.mp3" id="collisionSound"></audio>
        <audio src="sounds/skip.mp3" id="skipSound"></audio>

        <canvas id="background"></canvas>
        <canvas id="canvas" ontouchstart="handleTouch(event)"></canvas>
        <div id="score"></div>

        <script src="js/sounds.js"></script>
        <script src="js/vector.js"></script>
        <script src="js/road.js"></script>
        <script src="js/target.js"></script>
        <script src="js/car.js"></script>
        <script src="js/app.js"></script>
        <div id="start-game">
            <h1 style="font-size: 8rem; margin: 0; text-align: center">4 CARS</h1>
            <svg style="cursor:pointer;" height="200" width="200" onclick="startGame()">
                <circle cx="100" cy="100" r="100" stroke="white" stroke-width="2" fill="black" />
                <polygon points="70,40 170,100 70,160"
                         style="fill:white;stroke:white;" />
            </svg>
            <div style="display: flex;flex-wrap: wrap; justify-content: center ;margin-top: 2rem">
                <button onclick="selectCarsNumber(this, 1)">1 car</button>
                <button onclick="selectCarsNumber(this, 2)">2 cars</button>
                <button onclick="selectCarsNumber(this ,3)">3 cars</button>
                <button onclick="selectCarsNumber(this, 4)" class="button-selected">4 cars</button>
                <button onclick="selectCarsNumber(this ,5)">5 cars</button>
            </div>
            <button onclick="document.querySelector('img').style.display = 'block'">how to play</button>
            <img src="images/how-to-play.png" alt="" width="600px" style="display: none; max-width: 80vw">
        </div>
        <div id="end-game" style="display: none">
            <div class="left">
                <div class="score"></div>
                <div class="winner"></div>
            </div>
            <div class="right">
                <div class="score"></div>
                <div class="winner"></div>
            </div>
        </div>
        <script>
            function startGame () {
                document.querySelector('#start-game').style.display = 'none';
                setVariablesBasedOnScreen()
                createTarget()
                createRoads()
                startAnimationFrames()
                playBackgroundSound();
            }
            function selectCarsNumber (e, cars) {
                for (let i = 0; i < e.parentNode.children.length; i++) {
                    let node = e.parentNode.children[i]
                    node.classList = ""
                }
                e.classList.add('button-selected')
                carsNumber = cars
            }

        </script>
    </body>
</html>
